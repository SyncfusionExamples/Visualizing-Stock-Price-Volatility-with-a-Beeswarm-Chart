<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:chart="clr-namespace:Syncfusion.Maui.Toolkit.Charts;assembly=Syncfusion.Maui.Toolkit" 
             xmlns:local="clr-namespace:Beeswarm"
             x:Class="Beeswarm.MainPage">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Compact Professional Header -->


        <!-- Main Chart Container - Takes most space -->
        <Border Grid.Row="0" 
            Margin="15,20,15,15"  
            StrokeThickness="1" 
            Stroke="#E0E0E0"
            BackgroundColor="White"
            StrokeShape="RoundRectangle 12">
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,3" Radius="8" Opacity="0.5" />
            </Border.Shadow>

            <chart:SfCartesianChart HorizontalOptions="Fill" Margin="0,0,0,15"
                                VerticalOptions="FillAndExpand"
                                BackgroundColor="White">

                <chart:SfCartesianChart.Resources>
                    <ResourceDictionary>
                        <x:String x:Key="UpTrendIcon">M3.2999878,20.999992 L3.2999878,31.099993 0,31.099993 0,24.300009z 
                M7.4000244,16.900018 L7.4000244,31.099993 4.0999756,31.099993 4.0999756,20.30001z 
                M16.400024,16.499994 L18.599976,18.700004 19.700012,17.599998 19.700012,31.099993 16.400024,31.099993z 
                M23.799988,13.600001 L23.799988,31.199999 20.5,31.199999 20.5,16.900018z 
                M11.5,12.800013 L11.5,31.099993 8.2000122,31.099993 8.2000122,16.1z 
                M12.299988,12.400019 L15.599976,15.700006 15.599976,31.099993 12.299988,31.099993z 
                M27.900024,9.499996 L27.900024,31.199999 24.599976,31.199999 24.599976,12.800013z 
                M28.700012,9.1000021 L29,9.1000021 32,12.100001 32,31.099993 28.700012,31.099993z 
                M31.400024,0 L31.099976,7.2000096 28.900024,4.9999983 18.200012,15.700006 
                17.900024,15.999993 11.700012,9.8000143 0.70001221,20.80001 0.70001221,15.800012 
                11.599976,4.8000167 17.900024,11.100002 26.400024,2.6000052 24.200012,0.4000244z</x:String>
                    </ResourceDictionary>
                </chart:SfCartesianChart.Resources>
                <chart:SfCartesianChart.Title>
                    <Border  
                            Margin="15,15,15,5" 
                            Padding="5" 
                            StrokeThickness="0"  
                            StrokeShape="RoundRectangle 12">


                        <!-- Optimized Professional Title Layout -->
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- Professional Chart Icon with Gradient Background -->
                            <Border Grid.Row="0" Grid.Column="0" Grid.RowSpan="2"
                                    BackgroundColor="#4285F4"
                                    StrokeShape="RoundRectangle 10"
                                    WidthRequest="45"
                                    HeightRequest="45"
                                    HorizontalOptions="Center"
                                    VerticalOptions="Center"
                                    Margin="0,2,0,0">
                                <Border.Shadow>
                                    <Shadow Brush="#4285F4" Offset="0,2" Radius="8" Opacity="0.3" />
                                </Border.Shadow>
                                <Path Data="{StaticResource UpTrendIcon}" Fill="#FF000000" Margin="10,5,10,10">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <TransformGroup.Children>
                                                <RotateTransform Angle="0"/>
                                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                                            </TransformGroup.Children>
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                </Path>
                            </Border>

                            <!-- Enhanced Title with Subtitle - Left Side -->
                            <StackLayout Grid.Row="0" Grid.Column="1" 
                                         Spacing="3"
                                         VerticalOptions="Center"
                                         Margin="15,0,10,0">
                                <Label Text="Beeswarm Analysis of Stock Market Volatility Patterns" 
                                       FontSize="{OnPlatform Android=16, Default=20, iOS=16}" 
                                       FontAttributes="Bold" 
                                       TextColor="#1A1A1A"
                                       LineBreakMode="WordWrap"/>
                                <Label Text="Detailed Comparison of Google Volatility Characteristics with Competitors and Market Trends" 
                                       FontSize="{OnPlatform Android=11, Default=13, iOS=11}" 
                                       TextColor="#64748B"
                                       FontAttributes="None"
                                       LineBreakMode="WordWrap"/>
                            </StackLayout>

                            <!-- Feature Tags and Status - Right Side -->
                            <StackLayout Grid.Row="0" Grid.Column="2"
                                     Spacing="8"
                                     VerticalOptions="Center"
                                     Margin="10,0,5,0">



                                <!-- Feature Tags Row -->
                                <StackLayout Orientation="Horizontal" 
                                             HorizontalOptions="End"
                                             Spacing="6">

                                    <!-- Multi-Company Tag -->
                                    <Border BackgroundColor="#EEF2FF" 
                                                StrokeThickness="1"
                                                Stroke="#C7D2FE"
                                                StrokeShape="RoundRectangle 10"
                                                Padding="8,5">
                                        <StackLayout Orientation="Horizontal" Spacing="3">
                                            <Label Text="📊" 
                                                   FontSize="{OnPlatform Android=9, Default=12, iOS=9}"
                                                   VerticalOptions="Center"/>
                                            <Label Text="Multi-Company" 
                                                   FontSize="{OnPlatform Android=8, Default=12, iOS=8}" 
                                                   TextColor="#4338CA" 
                                                   VerticalOptions="Center"/>
                                        </StackLayout>
                                    </Border>

                                    <!-- Real-time Tag -->
                                    <Border BackgroundColor="#FEF3C7" 
                StrokeThickness="1"
                Stroke="#FCD34D"
                StrokeShape="RoundRectangle 10"
                Padding="8,5">
                                        <StackLayout Orientation="Horizontal" Spacing="3">
                                            <Label Text="⚡" 
                       FontSize="{OnPlatform Android=9, Default=12, iOS=9}"
                       VerticalOptions="Center"/>
                                            <Label Text="Real-time" 
                       FontSize="{OnPlatform Android=8, Default=12, iOS=8}" 
                       TextColor="#D97706" 
                       VerticalOptions="Center"/>
                                        </StackLayout>
                                    </Border>

                                    <!-- Advanced Tag -->
                                    <Border BackgroundColor="#DCFCE7" 
                StrokeThickness="1"
                Stroke="#BBF7D0"
                StrokeShape="RoundRectangle 10"
                Padding="8,5">
                                        <StackLayout Orientation="Horizontal" Spacing="3">
                                            <Label Text="🎯" 
                       FontSize="{OnPlatform Android=9, Default=12, iOS=9}"
                       VerticalOptions="Center"/>
                                            <Label Text="Advanced" 
                       FontSize="{OnPlatform Android=8, Default=12, iOS=8}" 
                       TextColor="#16A34A" 
                       VerticalOptions="Center"/>
                                        </StackLayout>
                                    </Border>
                                </StackLayout>
                            </StackLayout>


                        </Grid>
                    </Border>
                </chart:SfCartesianChart.Title>

                <!-- Tooltip Configuration -->
                <chart:SfCartesianChart.TooltipBehavior>
                    <chart:ChartTooltipBehavior Background="Transparent"/>
                </chart:SfCartesianChart.TooltipBehavior>

                <!-- X-Axis Configuration -->
                <chart:SfCartesianChart.XAxes>
                    <chart:NumericalAxis  Minimum="0" 
                                          Maximum="1" 
                                          IsVisible="False" 
                                          ShowMajorGridLines="False"> 
                    </chart:NumericalAxis>

                </chart:SfCartesianChart.XAxes>

                <!-- Y-Axis Configuration -->
                <chart:SfCartesianChart.YAxes>
                    <chart:NumericalAxis Minimum="3"  
                        Maximum="{Binding GetYAxisMaximum}"
                        ShowMajorGridLines="True"
                        ShowMinorGridLines="False">



                        <chart:NumericalAxis.Title>
                            <chart:ChartAxisTitle Text="{Binding YAxisTitle}" 
                                 TextColor="#34495E"
                                 FontSize="{OnPlatform Android=10, Default=12, iOS=10}"/>
                        </chart:NumericalAxis.Title>

                        <chart:NumericalAxis.LabelStyle>
                            <chart:ChartAxisLabelStyle LabelFormat="$0.00" 
                                      TextColor="#7F8C8D"
                                      FontSize="{OnPlatform Android=9, Default=10, iOS=9}"/>
                        </chart:NumericalAxis.LabelStyle>

                        <chart:NumericalAxis.AxisLineStyle>
                            <chart:ChartLineStyle Stroke="#BDC3C7" StrokeWidth="1"/>
                        </chart:NumericalAxis.AxisLineStyle>

                        <chart:NumericalAxis.MajorGridLineStyle>
                            <chart:ChartLineStyle Stroke="#ECF0F1" StrokeWidth="1"/>
                        </chart:NumericalAxis.MajorGridLineStyle>

                    </chart:NumericalAxis>
                </chart:SfCartesianChart.YAxes>
                <chart:SfCartesianChart.ZoomPanBehavior>
                    <chart:ChartZoomPanBehavior/>
                </chart:SfCartesianChart.ZoomPanBehavior>
                <!-- Google Data Series -->


                <!-- Amazon Data Series -->
                <local:ScatterExt ItemsSource="{Binding AmazonData}"
                                 XBindingPath="XPosition"
                                 YBindingPath="DailyVolatility"
                                 Fill="{Binding AmazonColor}"
                                 Stroke="#FF8F00"
                                 StrokeWidth="5"
                                 PointHeight="12"
                                 PointWidth="12"
                                 Label="Amazon"
                                 EnableTooltip="True"
                                 EnableAnimation="True">

                    <local:ScatterExt.TooltipTemplate>
                        <DataTemplate>
                            <Border BackgroundColor="#FF8F00"
                                StrokeShape="RoundRectangle 6"
                                Padding="8,6">
                                <StackLayout Spacing="2">
                                    <Label Text="{Binding Item.Company}" 
                                       FontAttributes="Bold" 
                                       FontSize="12"
                                       TextColor="White" 
                                       HorizontalTextAlignment="Center"/>

                                    <Label Text="{Binding Item.FormattedVolatility, StringFormat='Volatility: {0}'}" 
                                       TextColor="White" 
                                       FontSize="10"
                                       FontAttributes="Bold"/>
                                    <Label Text="{Binding Item.Low, StringFormat='Low : ${0:f2}'}" 
   TextColor="White" 
   FontSize="10"
   FontAttributes="Bold"/>
                                </StackLayout>
                            </Border>
                        </DataTemplate>
                    </local:ScatterExt.TooltipTemplate>
                </local:ScatterExt>

                <local:ScatterExt ItemsSource="{Binding GoogleData}"
                                    XBindingPath="XPosition"
                                    YBindingPath="DailyVolatility"
                                    Fill="{Binding GoogleColor}"
                                    Stroke="LightGreen"
                                    StrokeWidth="5"
                                    PointHeight="12"
                                    PointWidth="12"
                                    Label="Google"
                                    EnableTooltip="True"
                                    EnableAnimation="True">
                    <local:ScatterExt.TooltipTemplate>
                        <DataTemplate>
                            <Border BackgroundColor="LightGreen"
StrokeShape="RoundRectangle 6"
Padding="8,6">
                                <StackLayout Spacing="2">
                                    <Label Text="{Binding Item.Company}" 
FontAttributes="Bold" 
FontSize="12"
TextColor="White" 
HorizontalOptions="Center"/>
                                    <Label Text="{Binding Item.FormattedVolatility, StringFormat='Volatility: {0}'}" 
TextColor="White" 
FontSize="10"
FontAttributes="Bold"/>
                                    <Label Text="{Binding Item.Low, StringFormat='Low : ${0:f2}'}" 
TextColor="White" 
FontSize="10"
FontAttributes="Bold"/>
                                </StackLayout>
                            </Border>
                        </DataTemplate>
                    </local:ScatterExt.TooltipTemplate>
                </local:ScatterExt>

                <!-- Netflix Data Series -->
                <local:ScatterExt ItemsSource="{Binding NetflixData}"
                                XBindingPath="XPosition"
                                YBindingPath="DailyVolatility"
                                Fill="{Binding NetflixColor}"
                                Stroke="#D32F2F"
                                StrokeWidth="5"
                                PointHeight="12"
                                PointWidth="12"
                                Label="Netflix"
                                EnableTooltip="True"
                                EnableAnimation="True">
                    <local:ScatterExt.TooltipTemplate>
                        <DataTemplate>
                            <Border BackgroundColor="#D32F2F"
StrokeShape="RoundRectangle 6"
Padding="8,6">
                                <StackLayout Spacing="2">
                                    <Label Text="{Binding Item.Company}" 
FontAttributes="Bold" 
FontSize="12"
TextColor="White" 
HorizontalOptions="Center"/>
                                    <Label Text="{Binding Item.FormattedVolatility, StringFormat='Volatility: {0}'}" 
TextColor="White" 
FontSize="10"

FontAttributes="Bold"/>
                                    <Label Text="{Binding Item.Low, StringFormat='Low : ${0:f2}'}" 
TextColor="White" 
FontSize="10"
FontAttributes="Bold"/>
                                </StackLayout>
                            </Border>
                        </DataTemplate>
                    </local:ScatterExt.TooltipTemplate>
                </local:ScatterExt>


            </chart:SfCartesianChart>
        </Border>

        <!-- Compact Footer with Company Information -->
        <Border Grid.Row="1" 
            Margin="15,5,15,10" 
            Padding="12,8" 
            StrokeThickness="0" 
            BackgroundColor="White"
            StrokeShape="RoundRectangle 8">
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,2" Radius="6" Opacity="0.5" />
            </Border.Shadow>

            <StackLayout Spacing="8">
                <!-- Compact Company Cards -->
                <StackLayout Orientation="Horizontal" 
                         HorizontalOptions="FillAndExpand"
                         Spacing="8">

                    <!-- Google Card -->
                    <!-- Google Card -->
                    <!-- Google Card -->
                    <!-- Google Card -->
                    <Border BackgroundColor="#e5fbe5" 
                            StrokeShape="RoundRectangle 6"
                            StrokeThickness="1"
                            Stroke="LightGreen"
                            Padding="8,6"
                            HorizontalOptions="FillAndExpand">      
                        <StackLayout Orientation="Horizontal" Spacing="6">
                            <BoxView Color="Green"
                                        WidthRequest="3" 
                                        HeightRequest="20"
                                        VerticalOptions="Center"
                                        CornerRadius="1"/>
                            <Grid ColumnDefinitions="0.2*,0.8*"  WidthRequest="450">
                                <StackLayout Grid.Column="0" Spacing="1">
                                        <Label Text="Google" 
                                            FontAttributes="Bold"
                                            FontSize="{OnPlatform Android=10, Default=11, iOS=10}"
                                            TextColor="Green"/>
                                    <Label Text="2018 Q1" 
                                            FontSize="{OnPlatform Android=8, Default=9, iOS=8}"
                                            TextColor="#666666"/>
                                </StackLayout>
                                <Label Grid.Column="1" Margin="0,6,0,0"
                                            Text="Leader in Search Engine Market" HorizontalOptions="End"
                                            FontSize="{OnPlatform Android=8, Default=10, iOS=8}"
                                            TextColor="#3E3E3E"/>
                            </Grid>
                        </StackLayout>
                    </Border>

                    <!-- Amazon Card -->
                    <Border BackgroundColor="#FFF3E0" 
StrokeShape="RoundRectangle 6"
StrokeThickness="1"
Stroke="{Binding AmazonColor}"
Padding="8,6"
HorizontalOptions="FillAndExpand">
                        <StackLayout Orientation="Horizontal" Spacing="6">
                            <BoxView Color="{Binding AmazonColor}"
        WidthRequest="3" 
        HeightRequest="20"
        VerticalOptions="Center"
        CornerRadius="1"/>
                            <Grid ColumnDefinitions="0.2*,0.8*"  WidthRequest="450" >
                                <StackLayout Grid.Column="0" Spacing="1">
                                    <Label Text="Amazon" 
                FontAttributes="Bold"
                FontSize="{OnPlatform Android=10, Default=11, iOS=10}"
                TextColor="#FF8F00"/>
                                    <Label Text="2016 Q1" 
                FontSize="{OnPlatform Android=8, Default=9, iOS=8}"
                TextColor="#666666"/>
                                </StackLayout>
                                <Label Grid.Column="1"
            Text="E-Commerce Giant and Cloud Leader"  Margin="0,6,0,0" HorizontalOptions="End"
            FontSize="{OnPlatform Android=8, Default=10, iOS=8}"
            TextColor="#3E3E3E"/>
                            </Grid>
                        </StackLayout>
                    </Border>

                    <!-- Netflix Card -->
                    <Border BackgroundColor="#FFEBEE" 
StrokeShape="RoundRectangle 6"
StrokeThickness="1"
Stroke="{Binding NetflixColor}"
Padding="8,6"
HorizontalOptions="FillAndExpand">
                        <StackLayout Orientation="Horizontal" Spacing="6">
                            <BoxView Color="{Binding NetflixColor}"
        WidthRequest="3" 
        HeightRequest="20"
        VerticalOptions="Center"
        CornerRadius="1"/>
                            <Grid ColumnDefinitions="0.2*,0.8*"  WidthRequest="450" >
                                <StackLayout Grid.Column="0" Spacing="1">
                                    <Label Text="Netflix" 
                FontAttributes="Bold"
                FontSize="{OnPlatform Android=10, Default=11, iOS=10}"
                TextColor="#D32F2F"/>
                                    <Label Text="2020 Q1" 
                FontSize="{OnPlatform Android=8, Default=9, iOS=8}"
                TextColor="#666666"/>
                                </StackLayout>
                                <Label Grid.Column="1"
            Text="Leading Streaming Service Provider"  Margin="0,6  ,0,0"
            FontSize="{OnPlatform Android=8, Default=10, iOS=8}" HorizontalOptions="End"
            TextColor="#3E3E3E"/>
                            </Grid>
                        </StackLayout>
                    </Border>
                </StackLayout>
            </StackLayout>
        </Border>
    </Grid>

</ContentPage>